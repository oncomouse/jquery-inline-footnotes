# jquery-inline-footnotes

This plugin is designed to convert footnotes generated by Markdown. It converts the automatically generated HTML (typically an ordered list with internal links) into a sidebar (as on sites like Grantland or Medium) for browsers big enough to show them and into inline footnotes that snap down, accordion-style, on mobile browsers and small screens.

With the sidebar footnotes, this plugin also handles collision detection. With this feature, two footnotes will not display overlapping one another.

## Syntax Example

Assuming you have some markdown that looks like this:

```markdown
Sometext.[^foobar]

[^foobar]: Footnote text!
```

I am assuming that the footnotes generated when Markdown converts to HTML look something like this:


```html
<p>Some text.<sup id="fnref:foobar"><a href="#fn:foobar">1</a></sup></p>
<ol>
	<li id="fn:foobar"><p>Footnote text!</p></li>
</ol>
```

From this style of footnote (which a number of Markdown engines generate), this plugin converts them into asides on large screens and accordion-style inline footnotes on smaller devices and screens.

## Usage

In addition to jQuery, `jquery-inline-footnotes` depends on `[jquery-overlaps](https://github.com/brandonaaron/jquery-overlaps)`, however the minified version in `dist/` already includes the plugin, so you don't have to include it separately. These can be installed using `bower` or downloaded separately. However you do it, you need to include some variation on the following code at the bottom of your document:

```html
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js" type="text/javascript"></script>
<script src="/dist/jquery.inline-footnotes.min.js" type="text/javascript"></script>
<script>
  $(document).ready(function() {
  	$.inlineFootnotes();
  });
</script>
```

You also need to include the contents of `jquery.inline-footnotes.css`) somewhere in your site's CSS.

As the width of your content column may allow smaller screens to display sidebar footnotes, check the "Configuration" section below.

## Configuration

The following options (with their meaning in comments) may be passed in an options object to the $.inlineFootnotes() function at initialization:

```javascript
$.inlineFootnotes({
	columnWidth: 1155, // minimum width of the screen necessary to display footnotes
	mediaQuery: null, // copy & paste the media query from your CSS file, if you prefer (and have polyfilled window.matchMedia)
	overlapOffset: 5, // padding (in pixels) between overlapping footnotes
	footNoteID: 'fn:', // base string of ID for footnotes
	footNoteRefID: 'fnref:', // base string of ID for footnote reference links
	inlineFootNoteID: 'fnote_', // base string of the IDs of elements we are attaching
	maxCollisionCycles: 8, // Number of iterations of collision detection to run, may need to increase.
	DEBUG: false // Display debugging information?
});
```